# 合并网格参数和回测参数面板实施任务

## 任务清单

### 1. 分析现有组件结构
- [ ] 阅读 `GridParameterEditor.jsx` 完整代码，理解当前实现
- [ ] 阅读 `BacktestConfigEditor.jsx` 完整代码，理解当前实现
- [ ] 阅读 `BacktestTab.jsx` 了解组件集成方式
- [ ] 分析状态管理和数据流

### 2. 创建合并后的统一组件
- [ ] 创建新的 `GridParameterSettings.jsx` 组件
- [ ] 集成网格参数显示逻辑（来自 GridParameterEditor）
- [ ] 集成回测参数显示逻辑（来自 BacktestConfigEditor）
- [ ] 实现默认展开状态（移除隐藏功能）

### 3. 实现编辑模式切换
- [ ] 添加"编辑手续费"按钮到面板右上角
- [ ] 实现编辑模式状态管理
- [ ] 实现网格参数和手续费编辑界面的切换逻辑
- [ ] 确保切换时保持数据完整性

### 4. 更新组件命名和文案
- [ ] 将"自定义网格参数"更改为"网格参数设置"
- [ ] 更新所有相关的标题和描述文本
- [ ] 确保按钮文本和状态提示正确

### 5. 集成到主页面
- [ ] 更新 `BacktestTab.jsx` 使用新的统一组件
- [ ] 移除对独立组件的引用
- [ ] 验证所有 props 和回调函数正确传递

### 6. 样式和响应式调整
- [ ] 确保合并后布局美观
- [ ] 验证移动端响应式设计
- [ ] 调整间距和视觉层次

### 7. 功能测试
- [ ] 测试网格参数编辑功能
- [ ] 测试手续费编辑功能
- [ ] 测试模式切换逻辑
- [ ] 验证数据保存和重置功能

### 8. 集成测试
- [ ] 运行现有测试用例确保无回归
- [ ] 测试完整的回测流程
- [ ] 验证缓存和状态管理

### 9. 代码清理
- [ ] 删除不再使用的独立组件文件
- [ ] 更新导入语句
- [ ] 清理注释和 TODO 项

### 10. 文档更新
- [ ] 更新组件文档注释
- [ ] 验证所有功能正常工作

### 11. 参数验证增强
- [ ] 价格区间合理性验证（5%-100%）
- [ ] 投资金额范围检查（1000-1000万）
- [ ] 网格步长与价格区间比例验证
- [ ] 实时验证状态反馈
- [ ] 多错误信息结构化展示

### 12. UI 组件完善
- [ ] 参数概览卡片设计（6卡网格）
- [ ] 图标和配色方案应用
- [ ] 验证状态指示器实现
- [ ] 错误提示面板样式
- [ ] 移动端响应式调整