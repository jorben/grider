# 合并自定义网格参数和回测参数设置面板

## Why
现有的回测分析页面中同时存在两个独立的参数设置面板（网格参数和手续费参数），导致用户需要在不同位置配置相关参数，增加了操作复杂度。合并为统一面板可以提供更简洁的用户界面和更好的用户体验。

## What Changes
- 将 `GridParameterEditor` 和 `BacktestConfigEditor` 组件合并为单个 `GridParameterSettings` 组件
- 网格参数设置面板默认展开显示，无需隐藏功能
- 在面板右上角添加"编辑手续费"按钮，实现编辑模式切换
- 将"自定义网格参数"更名为"网格参数设置"
- 增强UI组件：参数概览卡片、图标系统、验证状态指示器、错误提示面板、响应式设计

## 变更内容

1. **面板合并**：将 `GridParameterEditor` 和 `BacktestConfigEditor` 合并为一个组件
2. **默认状态调整**：自定义网格参数默认展开显示，无需隐藏功能
3. **编辑模式切换**：在网格参数面板右上角添加"编辑手续费"按钮，点击后切换到手续费编辑模式
4. **名称调整**：将"自定义网格参数"更名为"网格参数设置"
5. **参数整合**：在同一面板区域可奇幻展示网格参数和编辑态回测参数（手续费、最低收费、无风险利率、年交易日数）

## 详细约定

### 1. 默认状态
- 网格参数设置面板默认展开显示，无隐藏功能
- 默认仅展示网格参数，不展示手续费相关参数

### 2. 编辑手续费按钮
- 按钮位置：面板右上角
- 按钮文本："编辑手续费"
- 点击行为：切换到编辑模式，隐藏网格参数设置，显示手续费编辑界面

### 3. 编辑模式
- 进入编辑手续费状态时：隐藏网格参数下的所有元素，只显示手续费相关参数的编辑界面
- 完成编辑或取消后：恢复网格参数设置的展示
- 编辑界面包含：手续费率、最低收费、无风险利率、年交易日数

### 4. 名称变更
- 标题从"自定义网格参数"更改为"网格参数设置"

### 5. UI 增强元素
- **参数概览卡片**：6张彩色卡片网格显示核心参数（价格区间、投资金额、基准价格、网格步长、单笔数量、回测区间）
- **图标系统**：使用 Lucide React 图标提供视觉区分和导航辅助
- **验证状态指示器**：实时显示参数有效性状态（绿色勾选/橙色警告）
- **错误提示面板**：结构化展示验证错误信息，支持多错误显示
- **响应式设计**：移动端和桌面端布局适配，按钮自适应宽度

## 影响分析

### 功能影响
- **正面影响**：
  - 减少用户操作步骤，合并相关参数设置
  - 提供更直观的用户界面
  - 简化组件结构，减少代码重复

- **潜在影响**：
  - 需要重构现有的两个组件
  - 可能影响现有的状态管理逻辑

### 用户体验影响
- **改进点**：
  - 参数设置更加集中，便于用户理解和操作
  - 减少界面切换，提升操作效率
  - 更清晰的参数组织方式

- **兼容性**：
  - 保持所有现有功能不变
  - 维持现有的数据结构和API接口

## 实施计划

1. 创建合并后的统一组件
2. 实现编辑模式切换逻辑
3. 更新组件命名和文案
4. 进行集成测试
5. 验证功能完整性

## 验收标准

- [ ] 网格参数设置面板默认展开显示
- [ ] 右上角显示"编辑手续费"按钮
- [ ] 点击编辑按钮后正确切换到手续费编辑模式
- [ ] 编辑完成后正确恢复网格参数显示
- [ ] 6张参数概览卡片正确显示核心参数和图标
- [ ] 验证状态指示器实时更新参数有效性
- [ ] 错误提示面板正确显示验证错误信息
- [ ] 所有原有功能保持正常工作
- [ ] 界面响应式设计在不同屏幕尺寸下正常显示